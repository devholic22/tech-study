# 2. 물리 계층과 데이터 링크 계층

### 이더넷

- 물리 계층과 데이터 링크 계층 모두를 규정하여 LAN 내의 호스트들이 정확하게 데이터를 주고받을 수 있도록 해 주는 유선 LAN 통신 기술
- 특징
    - 오늘날의 (유선) LAN 대부분이 이더넷 표준을 따르기 때문에 대다수의 LAN 장비들이 특정 이더넷 표준을 따른다.
    - 이더넷 표준이 달라지면 통신 매체의 종류를 비롯한 신호 송수신 방법, 나아가 최대 지원 속도도 달라질 수 있다.
- 이더넷 프레임
    - 이더넷 기반의 네트워크에서 주고받는 프레임
        ![스크린샷, 2025-08-12 오후 10 18 20](https://github.com/user-attachments/assets/fab31a9d-75a0-488b-b2a4-50ad6d75e9e5)

        
        - 프리앰블
            - 송수신지 동기화를 위해 사용되는 8바이트 (64비트) 크기의 정보
            - 첫 7바이트 10101010, 마지막 바이트 10101011
            - 수신지 입장에서는 이 프리앰블 비트를 통해 현재의 이더넷 프레임이 수신되고 있다는 사실 파악
        - 송수신지 MAC 주소
            - 송신지와 수신지를 특정할 수 있는 6바이트 (48비트) 길이의 MAC 주소
            - 콜론으로 구분된 12자리 16진수 (ab:cd:ab:cd:00:01) 구성
        - 타입/길이
            - 이 필드에 명시된 크기가 1500 이하면 프레임의 크기, 1536 이상이면 타입을 나타냄
            - IP (IPv4)가 캡슐화된 정보를 운반한다면 16진수 0800, ARP 프로토콜이 캡슐화된 정보를 운반한다면 16진수 0806이 명시됨
        - 데이터
            - 상위 계층으로 전달하거나 전달받을 데이터가 명시됨
            - 최대 크기는 일반적으로 1500바이트 이하로 제한됨 (⇒ MTU)
        - FCS
            - 프레임의 오류가 있는지의 여부를 확인하기 위한 필드

### 유무선 통신 매체

- 트위스티드 페어 케이블 (유선): 구리선을 통해 전기적으로 신호를 주고받는 통신 매체
    - 성능은 카테고리를 통해 알 수 있음
- 전파/와이파이 (무선)
    - 같은 주파수 대역을 사용하는 여러 무선 네트워크가 존재할 수 있음
    - 이때 서로 간섭하지 않도록 채널 (channel)을 두어 하위 주파수 대역으로 세분화함.
    - 무선 네트워크의 성능 저하를 방지하려면 신호가 중첩되지 않는 채널을 사용하는 것이 중요.

### 네트워크 인터페이스: NIC
![스크린샷, 2025-08-12 오후 10 34 14](https://github.com/user-attachments/assets/f76d7a8f-4425-4ba8-b20f-25458a7bd709)


- 네트워크 인터페이스: 네트워크 상에서 노드와 통신 매체가 연결되는 지점
- 네트워크 인터페이스마다 MAC 주소 부여 및 NIC 하드웨어가 네트워크 인터페이스의 역할을 담당

> [실제 동작 구조 - 집 와이파이와 노트북의 송수신 원리]
> 1. 노트북 내부
> - 무선 NIC (Wi-Fi 모듈)가 탑재되어 있음
> - 이 NIC 에는 고유 MAC 주소가 부여되어 있음
> 
> 2. 공유기 (AP, Access Point)
> - 공유기에도 무선 NIC가 있음 → 무선용 MAC 주소가 있음
> 
> 3. 통신 절차
> - 무선 LAN (802.11) 규격으로 프레임 송수신 (구조는 유선 이더넷 프레임과 유사하지만, 무선 특성 때문에 헤더 구성이 조금 다름)
> - 데이터 링크 계층에서는 노트북 MAC ↔ 공유기 무선 MAC 사이에서 프레임이 오고 감
> - 공유기는 이 프레임을 받아서 유선 이더넷 (802.3) 또는 인터넷 (IP)로 변환해 외부망과 통신

### 허브와 스위치

- 허브/스위치는 물리/데이터 링크 계층의 중간 노드, 그러나 허브는 오늘날 잘 사용하지는 않음
- 허브
![스크린샷, 2025-08-12 오후 10 37 20](https://github.com/user-attachments/assets/e2a92cec-f77b-4810-b929-2c8897f42cbb)

    
    
    - 물리 계층의 대표 네트워크 장비
    - 전달받은 신호를 모든 포트로 내보내며, 반이중 모드 (동시 송수신 불가)로 통신함.
- 스위치
    - 데이터 링크 계층의 대표 네트워크 장비
    - 전달받은 신호를 목적지 호스트가 연결된 포트로만 내보냄
        - MAC 주소 학습을 할 수 있기 때문. 데이터 링크 계층에 속한 장비이므로 MAC 주소를 이해할 수 있다.
        - 현재 어떤 포트에 어떤 MAC 주소를 가진 호스트가 연결되어있는지 파악한 후, MAC 주소 테이블을 생성함.
    - 전이중 모드 지원
    - VLAN (Virtual LAN)
        ![스크린샷, 2025-08-12 오후 10 42 05](https://github.com/user-attachments/assets/ea088b8c-d93e-4d71-852c-eb951c443ac3)

        
        - 같은 스위치에 연결된 모든 호스트를 하나의 네트워크로 간주하고 싶지 않을 때 이용
