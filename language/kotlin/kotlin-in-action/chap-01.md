> 코틀린의 시작: ‘더 나은 자바’

# 1.1 코틀린 맛보기

⬇️ 코틀린 놀이터

[Kotlin Playground: Edit, Run, Share Kotlin Code Online](https://play.kotlinlang.org/)

```kotlin
data class Person( // '데이터' 클래스
    val name: String, // 읽기 전용 프로퍼티
    val age: Int? = null, // 널이 될 수 있는 타입(Int?)과 파라미터 기본값
)

fun main() { // 최상위 함수
    val persons = listOf(
        Person("영희", age = 29), // 이름 붙은 파라미터
        Person("철수"), // 트레일링 콤마
    )
    
    val oldest = persons.maxBy { // 람다식
        it.age ?: 0 // 널에 작용하는 엘비스 연산자
    }
    println("가장 나이가 많은 사람: $oldest") // 문자열 템플릿
}
// 가장 나이가 많은 사람: Person(name="영희", age=29) // toString 자동 생성
```

# 1.2 코틀린의 주요 특성

- 정적 타입 지정 (statically typed) 언어 → 컴파일 시점에 오류를 잡아낼 수 있다
    - 성능: 런타임에 어떤 메서드를 호출해야 할 지 볼 필요 없음 → 더 빠른 속도
    - 신뢰성: 컴파일러가 타입 일관성 검증 → 런타임 시 프로그램 실패 가능성 감소
        - 추가로 널을 허용 (nullable type)하지만, 널이 발생하는지 컴파일 시점에 파악할 수 있음.
    - 유지 보수성: 코드가 작동하는 타입을 볼 수 있음으로써 낯선 코드를 더 쉽게 다룰 수 있음
    - 도구 지원: 리팩토링 신뢰성 향상, 컴파일러가 자동으로 타입 추론 가능함
- 안드로이드 디바이스 / 서버 백엔드 코드
    - 코틀린의 주 목적: “현재 자바가 사용되고 있는 모든 용도에 적합하면서도 더 간결하고 생산적이며 안전하한 대체 언어를 제공하는 것”
    - 코틀린은 다중 플랫폼 (데스크톱, iOS, 안드로이드, 브라우저 등)에서 지원되는 언어이다.
- 함수형 프로그래밍 + 객체지향 프로그래밍 조합
    - 일급 시민 함수
        - 함수를 값 처럼 다룰 수 있음
        - 함수를 변수에 저장하거나 함수를 인자로 다른 함수에 전달, 함수에서 새로운 함수를 만들어 반환할 수도 있음
    - 불변성
        - 불변 객체를 이용하여 만들어진 뒤 내부 상태가 절대 바뀌지 않도록 작성함
    - 부수 효과 없음
        - 입력이 같으면 항상 같은 출력을 내놓도록 순수 함수 (pure functiion)를 사용함
        - 같은 행동을 하는 명령형 코드에 비해 더 간결하고 추상화된 코드를 작성할 수 있음
        - 순수 함수를 이용하기 때문에 테스트 작성 시에도 별도의 복잡한 준비 과정을 줄일 수 있음.
    - 불변 데이터 구조와 순수 함수를 사용하면 안전한 동시성을 얻을 수 있음. 값이 불변되기 때문.
- 코루틴을 쓰면 동시성, 비동기 코드를 자연스럽고 구조적으로 사용할 수 있음

# 1.3 코틀린이 자주 쓰이는 분야

1. 백엔드 지원
    - 코틀린은 새로운 컴포넌트 작성 / 기존 서비스 코드를 코틀린으로 이식해야 하는 경우 잘 들어맞음
    - 애플리케이션 신뢰성이 향상됨. (ex: NPE 방지)
2. 모바일 개발
    - 코틀린은 안드로이드의 공식 언어
    - 운용 신뢰성 보장
    - 성능 / 호환성 측면에서 문제 없음
3. 다중 플랫폼
    - 코틀린을 자바스크립트로 컴파일할 수 있음 → 브라우저/노드에서 코틀린 코드 실행 가능
    - 코틀린 코드를 이진 코드로 컴파일하여 iOS/타 플랫폼에서 실행되는 프로그램 제작 가능

# 1.4 코틀린의 철학

1. 실용적인 언어
    - 어느 특정 프로그래밍 스타일이나 패러다임을 사용할 것을 강제 요구하지 않음
    - 본인의 코드에 코틀린의 특성을 적용하고 나면 자연스럽게 간결하고 전형적인 코틀린 코드를 작성할 수 있게 될 것
    - 편리한 IDE 지원
2. 간결성
    - 코드의 간결성이 높아야 내용을 파악하기 쉽다.
    - 자동 타입 추론, 라이브러리 함수 지원 등의 기능을 이용하면 간결히 작성할 수 있다.
3. 안정성
    - JVM 위에서 실행 → 안정성 보장
        - 메모리 안정성 보장
        - 버퍼 오버플로 (buffer overflow) 방지
        - 정적 타입 언어 → 타입 안정성 보장
    - 불변 객체 → 다중 스레드 애플리케이션의 안정성 (동시성 제어) 보장
    - 널이 될 수 있는 값 컴파일 시점 제어 → NPE 방지
4. 상호운용성
    - 자바와 코틀린 소스 파일을 자유롭게 내비게이션 할 수 있다.
    - 여러 언어로 이뤄진 프로젝트를 디버깅하면서 서로 다른 언어로 작성된 코드를 한 단계씩 실행할 수 있다.
    - 자바 메서드를 리팩터링해도 그 메서드와 관련 있는 코틀린 코드까지 제대로 변경된다. 반대로 코틀린 메서드를 리팩터링해도 그와 관련 있는 자바 코드까지 모두 자동으로 변경된다.

# 1.5 코틀린 도구 사용

- [코틀린 놀이터](https://play.kotlinlang.org/)
- 인텔리제이에서 Convert Java File to Kotlin File을 선택하면 자바 코드를 코틀린으로 대체 가능
- 코틀린 JVM 빌드 과정

# 요약

- 코틀린은 타입 추론을 지원하는 정적 타입 지정 언어다. 따라서 소스코드의 정확성과 성능을 보장하면서도 소스코드를 간결하게 유지할 수 있다.
- 코틀린은 객체지향과 함수형 프로그래밍 스타일을 모두 지원한다. 코틀린에서는 일급 시민 함수를 사용해 수준 높은 추상화가 가능하고 불변 값 지원을 통해 다중 스레드 애플리케이션 개발과 테스트를 더 쉽게 할 수 있다.
- 코루틴은 스레드에 대한 대안으로 경량이다. 코루틴을 사용하면 비동기 코드를 자연스럽게 느낄 수 있는 순차적 코드와 비슷한 로직을 작성할 수 있으며, 자식-부모 관계로 동시성 코드를 구조화할 때 도움이 된다.
- 코틀린을 서버 애플리케이션 개발에 잘 활용할 수 있다. 코틀린은 코틀린으로 작성된 케이토나 http4k와 같은 프레임워크는 물론이고 스프링 부트와 같은 기존 자바 프레임워크도 완전히 지원한다.
- 안드로이드도 코틀린 우선으로 개발이 이뤄진다. 안드로이드 개발 도구, 라이브러리, 예제, 문서는 모두 주로 코틀린에 초점이 맞춰져 있다.
- 코틀린은 무료이며 오픈소스다. 또한 주요 IDE와 여러 빌드 시스템을 지원한다.
- 인텔리제이 IDEA와 안드로이드 스튜디오를 사용하면 코틀린과 자바 모두가 포함된 코드를 매끄럽게 내비게이션할 수 있다.
- [코틀린 놀이터](https://play.kotlinlang.org/)는 아무 설정 없이 코틀린 코드를 시도해볼 수 있는 빠른 방법이다.
- 자바를 코틀린으로 변환하는 자동화된 자바-코틀린 변환기를 사용하면 기존 코드와 자바 언어에 대한 지식을 코틀린으로 가져올 수 있다.
- 코틀린은 실용적이며 안전하고 간결하며 상호운용성이 좋다. 이는 우리가 코틀린을 설계하면서 일반적인 작업에 대해 이미 잘 알려진 해법을 채택하고, NullPointerException과 같이 흔히 발생하는 오류를 방지하며, 읽기 쉽고 간결한 코드를 지원하면서 자바와 아무런 제약 없이 통합될 수 있는 언어를 만드는 데 초점을 맞췄다는 뜻이다.
